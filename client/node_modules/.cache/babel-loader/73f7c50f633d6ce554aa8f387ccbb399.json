{"ast":null,"code":"import _classCallCheck from \"/home/alexander/IdeaProjects/shopping-list/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alexander/IdeaProjects/shopping-list/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alexander/IdeaProjects/shopping-list/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alexander/IdeaProjects/shopping-list/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alexander/IdeaProjects/shopping-list/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alexander/IdeaProjects/shopping-list/client/src/components/Header/Header.js\";\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { AppBar, Toolbar, Typography, Button, IconButton, Grid, Input } from '@material-ui/core';\nimport './Header.sass';\nimport connect from 'react-redux/es/connect/connect';\nimport { getShopListBySessionId as _getShopListBySessionId, updateShopListBySessionId as _updateShopListBySessionId } from \"../../store/actions/actionCreator\";\n\nvar debounce = require('lodash.debounce');\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.handleBudgetChange = function (newBudget) {\n      _this.setState({\n        localBudget: newBudget\n      });\n    };\n\n    _this.handleBudgetBlur = function (budget) {\n      if (!budget) _this.setState({\n        localBudget: 0\n      });\n    };\n\n    _this.handlerBudgetChangeAccept = function () {\n      var newShopList = _this.props.shopList;\n      newShopList.budget = _this.state.localBudget;\n\n      _this.props.updateShopListBySessionId(newShopList.shopSession, newShopList);\n    };\n\n    _this.state = {\n      localBudget: props.shopList.budget || 0\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log('componentWillReceiveProps local budget');\n      console.log(nextProps.shopList.budget);\n      var budget = nextProps.shopList.budget;\n      if (this.state.localBudget !== budget) this.setState({\n        localBudget: budget\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: 'Header-container',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        justify: \"space-between\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: 'centerBlock',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"body1\",\n        color: \"inherit\",\n        className: 'headerName',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Spent: \", this.props.shopList.generalCost ? this.props.shopList.generalCost : 0), React.createElement(Typography, {\n        variant: \"body1\",\n        color: \"inherit\",\n        className: 'headerName',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Budget:\"), React.createElement(Input, {\n        className: 'budgetInput',\n        value: this.state.localBudget,\n        onChange: function onChange(e) {\n          _this2.handleBudgetChange(e.target.value);\n        },\n        onClick: function onClick(e) {\n          return e.target.setSelectionRange(0, 100);\n        },\n        onBlur: function onBlur(e) {\n          _this2.handleBudgetBlur(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        size: \"small\",\n        onClick: function onClick() {\n          _this2.handlerBudgetChangeAccept();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Change\")), React.createElement(Button, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Login\")))));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    shopList: state.shoppingReducer.shopList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getShopListBySessionId: function getShopListBySessionId(sessionId) {\n      return dispatch(_getShopListBySessionId(sessionId));\n    },\n    updateShopListBySessionId: function updateShopListBySessionId(sessionId, shopList) {\n      return dispatch(_updateShopListBySessionId(sessionId, shopList));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["/home/alexander/IdeaProjects/shopping-list/client/src/components/Header/Header.js"],"names":["React","Component","MenuIcon","AppBar","Toolbar","Typography","Button","IconButton","Grid","Input","connect","getShopListBySessionId","updateShopListBySessionId","debounce","require","Header","props","handleBudgetChange","newBudget","setState","localBudget","handleBudgetBlur","budget","handlerBudgetChangeAccept","newShopList","shopList","state","shopSession","nextProps","console","log","generalCost","e","target","value","setSelectionRange","mapStateToProps","shoppingReducer","mapDispatchToProps","dispatch","sessionId"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { AppBar, Toolbar, Typography, Button, IconButton, Grid, Input } from '@material-ui/core';\nimport './Header.sass';\nimport connect from 'react-redux/es/connect/connect'\nimport {getShopListBySessionId, updateShopListBySessionId} from \"../../store/actions/actionCreator\";\n\nconst debounce = require('lodash.debounce');\n\nclass Header extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            localBudget: props.shopList.budget || 0\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        console.log('componentWillReceiveProps local budget');\n        console.log(nextProps.shopList.budget);\n        const { budget } = nextProps.shopList;\n        if (this.state.localBudget !== budget)\n            this.setState({\n                localBudget: budget\n            });\n    }\n\n    handleBudgetChange = (newBudget) => {\n        this.setState({\n            localBudget: newBudget,\n        });\n    };\n\n    handleBudgetBlur = (budget) => {\n      if(!budget)\n          this.setState({\n              localBudget: 0\n          })\n    };\n\n    handlerBudgetChangeAccept = () => {\n        const newShopList = this.props.shopList;\n        newShopList.budget = this.state.localBudget;\n        this.props.updateShopListBySessionId(newShopList.shopSession, newShopList);\n    };\n\n    render() {\n        return (\n            <div className={'Header-container'}>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Grid container justify={\"space-between\"} alignItems={\"center\"}>\n                            <IconButton color=\"inherit\" aria-label=\"Menu\">\n                                <MenuIcon />\n                            </IconButton>\n                            <div className={'centerBlock'}>\n                                <Typography variant=\"body1\" color=\"inherit\" className={'headerName'}>\n                                    Spent: { this.props.shopList.generalCost ? this.props.shopList.generalCost : 0}\n                                </Typography>\n\n                                <Typography variant=\"body1\" color=\"inherit\" className={'headerName'}>\n                                    Budget:\n                                </Typography>\n                                <Input className={'budgetInput'}\n                                       value={ this.state.localBudget }\n                                       onChange={(e) => {this.handleBudgetChange(e.target.value)}}\n                                       onClick={(e) => e.target.setSelectionRange(0, 100)}\n                                       onBlur={(e) => {this.handleBudgetBlur(e.target.value)}}\n                                />\n                                <Button variant=\"contained\" color=\"secondary\" size={\"small\"}\n                                        onClick={() => {this.handlerBudgetChangeAccept()}}>\n                                    Change\n                                </Button>\n                            </div>\n                            <Button color=\"inherit\">Login</Button>\n                        </Grid>\n                    </Toolbar>\n                </AppBar>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        shopList: state.shoppingReducer.shopList,\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    getShopListBySessionId: (sessionId) => dispatch(getShopListBySessionId(sessionId)),\n    updateShopListBySessionId: (sessionId, shopList) => dispatch(updateShopListBySessionId(sessionId, shopList)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n"]},"metadata":{},"sourceType":"module"}